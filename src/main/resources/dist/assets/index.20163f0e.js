import{d as x,c as Q,A as u,B as m,E as l,aF as a,aE as r,aH as U,aG as M,u as S,aV as z,aD as G,aL as p,aW as K,a as T,r as W,aK as V,aQ as F,aI as R,aX as X,aY as Y,aZ as Z,a_ as j,a$ as J,b0 as O,b1 as ee}from"./arco.ef60211b.js";import{F as se}from"./index.8d7a4080.js";import{u as L,_ as P,a as oe,i as ae}from"./index.259ad068.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import{u as ne,f as re}from"./vue.205125e8.js";import{u as te}from"./loading.6af50a72.js";import{a as q,m as E,b as B}from"./crypto.a5d93f2b.js";/* empty css              */const I="/assets/logo.17104db5.png",le={class:"banner"},ce={class:"banner-inner"},ie={class:"carousel-title"},ue={class:"carousel-sub-title"},de=["src"],_e=x({__name:"banner",setup(k){const{t:n}=L(),d=Q(()=>[{slogan:n("login.banner.slogan1"),subSlogan:n("login.banner.subSlogan1"),image:I},{slogan:n("login.banner.slogan2"),subSlogan:n("login.banner.subSlogan2"),image:I},{slogan:n("login.banner.slogan3"),subSlogan:n("login.banner.subSlogan3"),image:I}]);return(v,w)=>{const i=K,g=z;return u(),m("div",le,[l("div",ce,[a(g,{class:"carousel","animation-name":"fade"},{default:r(()=>[(u(!0),m(U,null,M(S(d),s=>(u(),G(i,{key:s.slogan},{default:r(()=>[(u(),m("div",{key:s.slogan,class:"carousel-item"},[l("div",ie,p(s.slogan),1),l("div",ue,p(s.subSlogan),1),l("img",{class:"carousel-image",src:s.image},null,8,de)]))]),_:2},1024))),128))]),_:1})])])}}});const me=P(_e,[["__scopeId","data-v-b9c2d5fa"]]),pe={class:"login-form-wrapper"},ge={class:"login-form-title"},fe={class:"login-form-password-actions"},be=x({__name:"login-form",setup(k){const n=re(),{t:d}=L(),v=T(""),{loading:w,setLoading:i}=te(),g=oe(),s=ne("login-config",{rememberPassword:!0,username:"",password:""}),_=W({username:q(s.value.username),password:s.value.password}),A=async({errors:o,values:e})=>{if(!w.value&&!o){i(!0);try{let t=!1;e.password&&e.password.match(/CIPHER\[.*\]/)&&(t=!0);const c={username:e.username,password:t?q(e.password.match(/CIPHER\[(.*)\]/)[1]):e.password};c.password=E(c.password),await g.login(c);const{redirect:f,...y}=n.currentRoute.value.query;n.push({name:f||"systemConfig",query:{...y}}),F.success(d("login.success"));const{rememberPassword:b}=s.value,{username:$,password:h}=e;s.value.username=b?B($):"",b?s.value.password=t?h:`CIPHER[${B(h)}]`:s.value.password=""}catch(t){v.value=t.message}finally{i(!1)}}},H=o=>{s.value.rememberPassword=o};return(async()=>{i(!0);try{if((await ae()).data)return;const e={username:"Anonymous",password:"Anonymous"};e.password=E(e.password),await g.login(e);const{redirect:t,...c}=n.currentRoute.value.query;n.push({name:t||"systemConfig",query:{...c}}),F.success(d("login.success"))}catch(o){v.value=o.message}finally{i(!1)}})(),(o,e)=>{const t=R("icon-user"),c=X,f=Y,y=R("icon-lock"),b=Z,$=j,h=J,D=O,N=ee;return u(),m("div",pe,[l("div",ge,p(o.$t("login.title")),1),a(N,{ref:"loginForm",model:_,class:"login-form",layout:"vertical",onSubmit:A},{default:r(()=>[a(f,{field:"username",rules:[{required:!0,message:o.$t("login.username.error")}],"validate-trigger":["change","blur"],"hide-label":""},{default:r(()=>[a(c,{modelValue:_.username,"onUpdate:modelValue":e[0]||(e[0]=C=>_.username=C),placeholder:o.$t("login.username.placeholder")},{prefix:r(()=>[a(t)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),a(f,{field:"password",rules:[{required:!0,message:o.$t("login.password.error")}],"validate-trigger":["change","blur"],"hide-label":""},{default:r(()=>[a(b,{modelValue:_.password,"onUpdate:modelValue":e[1]||(e[1]=C=>_.password=C),placeholder:o.$t("login.password.placeholder"),"allow-clear":""},{prefix:r(()=>[a(y)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),a(D,{size:16,direction:"vertical"},{default:r(()=>[l("div",fe,[a($,{checked:"rememberPassword","model-value":S(s).rememberPassword,onChange:H},{default:r(()=>[V(p(o.$t("login.rememberPassword")),1)]),_:1},8,["model-value","onChange"])]),a(h,{type:"primary","html-type":"submit",long:"",loading:S(w)},{default:r(()=>[V(p(o.$t("login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}});const he=P(be,[["__scopeId","data-v-f4b0e932"]]),ve={class:"container"},we={class:"content"},ye={class:"content-inner"},$e={class:"footer"},Ce=x({__name:"index",setup(k){return(n,d)=>(u(),m("div",ve,[a(me),l("div",we,[l("div",ye,[a(he)]),l("div",$e,[a(se)])])]))}});const He=P(Ce,[["__scopeId","data-v-6b0fc632"]]);export{He as default};
